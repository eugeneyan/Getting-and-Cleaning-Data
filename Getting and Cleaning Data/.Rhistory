nrow(house[,house$VAL==24])
nrow(house["VAL"==24,])
nrow(house["VAL"==24])
nrow(house[house$VAL=24,])
nrow(house[house$VAL==24,])
house[house$VAL==24,]
View(house[house$VAL==24,])
house["VAL"=='24',]
house[house$VAL,]
View(house[house$VAL,])
View(house[house$VAL==24,])
View(house[VAL==24,])
View(house['VAL'==24,])
View(house['VAL',])
View(house[,'VAL'])
View(house[,'VAL'==24])
View(house[,'VAL'=24])
View(house[,'VAL'='24'])
View(house[,'VAL'=24])
View(house[,'VAL'==24])
View(house[,house$VAL==24])
View(house[ ,house$VAL==24])
View(house[,house$VAL==24])
house <- read.csv('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv')
<<<<<<< HEAD
=======
house <- read.csv('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv', method='curl')
house <- read.csv('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv')
house <- read.csv("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv")
View(house)
house <- read.csv("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv")
summary(house$VAL)
house <- read.csv("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv")
house <- read.csv('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv', method = curl)
house <- read.csv('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv', method = 'curl')
house <- read.table('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv', method = 'curl')
?read.csv
house <- read.table('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv')
house <- read.table('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv')
View(house)
url <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv'
download.file(url, 'house.csv', method='curl')
house <- read.csv('house.csv')
getwd()
View(house)
house$VAL
house$VAL == 24
nrow(house$VAL == 24)
sum(house$VAL == 24)
house$VAL
View(house$VAL)
View(house$VAL==24)
SUM(house$VAL==24)
sum(house$VAL==24)
table(house$VAL)
View(house['VAL'])
View(house['VAL'] == 24)
sum(house['VAL'] == 24)
val24 <- subset(house, house$VAL == 24)
sum(house$VAL==24)
sum(house$VAL==24, na.rm = T)
sum(house['VAL'] == 24, na.rm = T)
nrows(house['VAL'] == 24, na.rm = T)
nrow(house['VAL'] == 24, na.rm = T)
View(house[house$VAL==24])
View(house[house$VAL==24,])
View(house[, house$VAL==24])
View(house$VAL = 24)
View(house$VAL == 24)
View(house[house$VAL == 24])
View(house[house$VAL == 24],)
View(house[house$VAL == 24, ])
View(val24)
View(house$VAL==24)
View(house[house$VAL==24])
View(house[house$VAL==24][])
View(house[house$VAL==24], )
View(house[house$VAL==24, ])
View(complete.cases(house[house$VAL==24, ])
View(complete.cases(house[house$VAL==24, ]))
View(subset(house, house$VAL == 24))
?data.table
install.packages('data.table')
?data.table
library(data.table)
?data.table
example(data.table)
house['VAL' = 24]
house['VAL'==24]
house[, 'VAL'] == 24
house[house[, 'VAL'] == 24, ]
names(house)
View(house[house[, 'VAL'] == 24, ])
View(house[house$VAL == 24, ])
str(house)
View(house[house$VAL ==24, ])
View(house[house$VAL])
View(house[house$VAL==24,])
View(house$VAL==24)
View(house[house$VAL==24, ,na.rm=T])
View(house[house$VAL==24, ],na.rm=T)
install.packages('xlsx')
download.file(url, 'gas.xlsx', method = 'curl')
gas  <- read.xlsx('gas.xlsx' sheetIndex = 1, header = T, colIndex = colI, rowIndex = rowI)
gas  <- read.xlsx('gas.xlsx', sheetIndex = 1, header = T, colIndex = colI, rowIndex = rowI)
library(xlsx)
gas  <- read.xlsx('gas.xlsx', sheetIndex = 1, header = T, colIndex = colI, rowIndex = rowI)
gas  <- read.xlsx('gas.xlsx', sheetIndex = 1, header = T, colIndex = colI, rowIndex = rowI)
library(xlsx)
gas  <- read.xlsx('gas.xlsx', sheetIndex = 1, header = T, colIndex = colI, rowIndex = rowI)
gas  <- read.xlsx('gas.xlsx', sheetIndex = 1, colIndex = colI, rowIndex = rowI)
install.packages('xlsxjars')
install.packages("xlsxjars")
install.packages('rJava')
install.packages('xlsxjars')
install.packages('xlsx')
library(xlsx)
gas  <- read.xlsx('gas.xlsx', sheetIndex = 1, colIndex = colI, rowIndex = rowI)
download.file(url, 'gas.xlsx', method = 'curl', mode = 'wb')
colI <- 7:15
rowI <- 18:23
gas  <- read.xlsx('gas.xlsx', sheetIndex = 1, colIndex = colI, rowIndex = rowI)
gas  <- read.xlsx('gas.xlsx', sheetIndex = 1)
gas  <- read.xlsx('gas.xlsx', sheetIndex = 1)
gas  <- read.xlsx('gas.xlsx', sheetIndex = 1, colIndex = colI, rowIndex = rowI)
sum(dat$Zip*dat$Ext,na.rm=T)
sum(gas$Zip*gas$Ext,na.rm=T)
install.packages('XML')
library(XML)
doc <- xmlTreeParse(url, useInternal = T)
url <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml'
doc <- xmlTreeParse(url, useInternal = T)
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
doc <- xmlTreeParse(url, useInternal = T)
url <- "http://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
doc <- xmlTreeParse(url, useInternal = T)
rootNode <- xmlRoot(doc)
rootNode[1]
zip <- xpathSApply(doc, "//li[@class='zipcode']", xmlValue)
table(zip)
zip
zip <- xpathSApply(doc, '//zipcode', xmlValue)
zip
table(zip)
zip[name==21231]
zip[zip==21231]
nrows(zip[zip==21231])
nrow(zip[zip==21231])
length(zip[zip==21231])
download.file(url, 'commune.csv', method = 'curl')
DT <- fread('commune.csv')
install.packages('data.table')
library(data.table)
DT <- fread('commune.csv')
DT <- read.table('commune.csv')
str(DT)
?fread
DT <- fread('commune.csv')
DT <- fread('commune.csv')
library(data.table)
DT <- fread('commune.csv')
file <- tempfile()
write.table(DT, file = file)
DT <- fread('commune.csv')
DT <- fread(file)
write.table(DT, file = file, row.names = F, col.names = T, quote = F)
DT <- fread(file)
str(DT)
?microbenchmark
install.packages('microbenchmark')
library(microbenchmark)
?microbenchmark
microbenchmark(rowMeans(DT)[DT$SEX==1]; rowMeans(DT)[DT$SEX==2])
microbenchmark(DT[,mean(pwgtp15),by=SEX])
)
microbenchmark(sapply(split(DT$pwgtp15,DT$SEX),mean)
microbenchmark(sapply(split(DT$pwgtp15,DT$SEX),mean))
microbenchmark(mean(DT[DT$SEX==1,]$pwgtp15); mean(DT[DT$SEX==2,]$pwgtp15))
trial_size <- 200
collected_results <- numeric(trial_size)
for (i in 1:trial_size){
single_function_time <- system.time(cor(iris$Sepal.Width,iris$Sepal.Length))rowMeans(DT)[DT$SEX==1]; rowMeans(DT)[DT$SEX==2]
collected_results[i] <- single_function_time[1]
}
print(mean(collected_results))
trial_size <- 200
collected_results <- numeric(trial_size)
for (i in 1:trial_size){
single_function_time <- system.time(rowMeans(DT)[DT$SEX==1]; rowMeans(DT)[DT$SEX==2])
collected_results[i] <- single_function_time[1]
}
print(mean(collected_results))
trial_size <- 200
collected_results <- numeric(trial_size)
for (i in 1:trial_size){
single_function_time <- system.time(DT[,mean(pwgtp15),by=SEX])
collected_results[i] <- single_function_time[1]
}
print(mean(collected_results))
trial_size <- 200
collected_results <- numeric(trial_size)
for (i in 1:trial_size){
single_function_time <- system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
collected_results[i] <- single_function_time[1]
}
print(mean(collected_results))
trial_size <- 200
collected_results <- numeric(trial_size)
for (i in 1:trial_size){
single_function_time <- system.time(tapply(DT$pwgtp15,DT$SEX,mean))
collected_results[i] <- single_function_time[1]
}
print(mean(collected_results))
tapply(DT$pwgtp15,DT$SEX,mean)
trial_size <- 200
collected_results <- numeric(trial_size)
for (i in 1:trial_size){
single_function_time <- system.time(mean(DT$pwgtp15,by=DT$SEX))
collected_results[i] <- single_function_time[1]
}
trial_size <- 200
collected_results <- numeric(trial_size)
for (i in 1:trial_size){
single_function_time <- system.time(mean(DT$pwgtp15,by=DT$SEX))
collected_results[i] <- single_function_time[1]
}
print(mean(collected_results))
trial_size <- 200
collected_results <- numeric(trial_size)
for (i in 1:trial_size){
single_function_time <- system.time(tapply(DT$pwgtp15,DT$SEX,mean))
collected_results[i] <- single_function_time[1]
}
print(mean(collected_results))
rowMeans(DT)[DT$SEX==1]; rowMeans(DT)[DT$SEX==2]
DT[,mean(pwgtp15),by=SEX]
View(DT)
write.table(DT, file = file, row.names = F, col.names = T, sep = ',', quote = F)
DT <- fread(file)
View(DT)
file <- tempfile()
write.table(DT, file = file, row.names = F, col.names = T, sep = ',', quote = F)
DT <- fread(file)
DT <- read.csv('commune.csv')
View(DT)
DT <- fread('commune.csv')
microbenchmark((rowMeans(DT)[DT$SEX==1]; rowMeans(DT)[DT$SEX==2]))
rowMeans(DT)[DT$SEX==1]; rowMeans(DT)[DT$SEX==2]
DT[,mean(pwgtp15),by=SEX]
sapply(split(DT$pwgtp15,DT$SEX),mean)
mean(DT[DT$SEX==1,]$pwgtp15); mean(DT[DT$SEX==2,]$pwgtp15)
tapply(DT$pwgtp15,DT$SEX,mean)
mean(DT$pwgtp15,by=DT$SEX)
mean(DT$pwgtp15,by=DT$SEX)
microbenchmark(f1)
microbenchmark(f1(x))
microbenchmark(f1(x))
f1 <- function(x) {
DT[,mean(pwgtp15),by=SEX]
}
f2 <- function(x) {
sapply(split(DT$pwgtp15,DT$SEX),mean)
}
f3 <- function(x) {
mean(DT[DT$SEX==1,]$pwgtp15); mean(DT[DT$SEX==2,]$pwgtp15)
}
f4 <- function(x) {
tapply(DT$pwgtp15,DT$SEX,mean)
}
microbenchmark(f1(x))
microbenchmark(f1(x), f2(x), f3(x), f4(x))
>>>>>>> b3c094050f95ce571c1b5532f8384a19fce5b8aa
rm(list = ls())
x <- data.frame('var1' = sample(1:5), 'var2' = sample(6:10), 'var3' = sample(11:15))
x
x <- x[sample(1:5), ]
x
x$var2[c(1, 3)]
x$var2[c(1, 3)] <- NA
x
library(data.table)
x <- setDT(x)
str(x)
x[, 1]
x <- data.frame('var1' = sample(1:5), 'var2' = sample(6:10), 'var3' = sample(11:15))
x <- x[sample(1:5), ]
x$var2[c(1, 3)] <- NA
y <- setDT(x)
str(x)
str(y)
x <- data.frame('var1' = sample(1:5), 'var2' = sample(6:10), 'var3' = sample(11:15))
str(x)
x <- x[sample(1:5), ]
x$var2[c(1, 3)] <- NA
library(data.table)
y <- setDT(x)
str(x)
str(y)
x <- data.frame('var1' = sample(1:5), 'var2' = sample(6:10), 'var3' = sample(11:15))
str(x)
x <- x[sample(1:5), ]
x$var2[c(1, 3)] <- NA
str(x)
str(y)
str(x)
x[, 1]
y[, 1, with = F]
x[, 'var1']
y[, 'var1']
y[, 'var1', with = F]
y[var1]
y[, var1]
x[1:2, 'var2']
y[1:2, var2]
x
y
x[(x$var1 <= 3 & x$var3 > 11), ]
y[(y$var1 <= 3 & y$var3 > 11), ]
x[which(x$var2 > 8), ]
x[(x$var2 > 8), ]
x[(x$var2 > 8), ]
x
x[(x$var2 > 6), ]
x[which(x$var2 > 6), ]
sort(x$var1)
sort(x$var2, na.last = T)
x[order(x$var1), ]
x[order(x$var1, x$var3), ]
?sort
?order
library(plyr)
arrange(x, var1)
x$var4 <- rnorm(5)
x
x$var4 <- rnorm(1)
x
x$var4 <- rnorm(5)
x
x <- cbind(x, rnorm(5))
x
restData <- read.csv('restaurants.csv')
download.file(fileUrl, destfile = 'restaurant2.csv', method = 'curl')
fileUrl <- 'https://data.baltimorecity.gov/Culture-Arts/Restaurants/k5ry-ef3g/rows.csv?accessType=DOWNLOAD'
download.file(fileUrl, destfile = 'restaurant2.csv', method = 'curl')
fileUrl <- 'https://data.baltimorecity.govapy/views/k5ry-ef3g/rows.csv?accessType=DOWNLOAD'
download.file(fileUrl, destfile = 'restaurant2.csv', method = 'curl')
download.file(fileUrl, destfile = 'restaurant2.csv', method = 'curl')
fileUrl <- 'https://data.baltimorecity.govapy/views/k5ry-ef3g/rows.csv?accessType=DOWNLOAD'
download.file(fileUrl, destfile = 'restaurant2.csv', method = 'curl')
fileUrl <- 'https://data.baltimorecity.gov/api/views/k5ry-ef3g/rows.csv?accessType=DOWNLOAD'
download.file(fileUrl, destfile = 'restaurant2.csv', method = 'curl')
?rest
rest <- read.csv('restaurants.csv')
head(rest)
head(rest)
tail(rest)
summary(rest)
str(rest)
quantile(rest$countcilDistrict, na.rm = T)
quantile(rest$councilDistrict, na.rm = T)
table(rest$zipCode)
prob.table(table(rest$zipCode))
prop.table(table(rest$zipCode))
table(rest$zipCode, useNA = 'ifany')
prop.table(table(rest$zipCode))
table(rest$councilDistrict, rest$zipCode)
is.na(rest#councilDistrict)
is.na(rest$councilDistrict)
colSums(is.na(rest))
colSums(rest)
rest$zipCode %in% c('21212')
table(rest$zipCode %in% c('21212'))
rest[rest$zipCode %in% c('21212')]
rest[rest$zipCode %in% c('21212'), ]
data(UCBAdmissions)
z <- data(UCBAdmissions)
str(z)
data(UCBAdmissions)
df <- UCBAdmissions
str(df
)
str(df)
summary(df)
df <- as.data.frame(UCBAdmissions0
df <- as.data.frame(UCBAdmissions)
str(df)
summary(df)
df <- as.data.table(UCBAdmissions)
str(df)
summary(df)
summary(df)
xt <- xtabs(Freq ~ Gender + Admit, data = df)
data(UCBAdmissions)
df <- as.data.frame(UCBAdmissions)
xt <- xtabs(Freq ~ Gender + Admit, data = df)
xt
object.size(rest)
rest$nearme <- rest$neighbourhood %in% c('Roland Park', 'Homeland')
rest$nearme = rest$neighbourhood %in% c('Roland Park', 'Homeland')
str(rest)
rest$nearme <- rest$neighbourhood %in% c('Roland Park', 'Homeland')
rest$nearme = rest$neighbourhood %in% c('Roland Park', 'Homeland')
rest$nearme <- NA
rest$nearme <- rest$neighbourhood %in% c('Roland Park', 'Homeland')
rest$nearme <- rest$neighborhood %in% c('Roland Park', 'Homeland')
str(rest)
table(rest$nearme)
rest$zipGroups <- cut(rest$zipCode, breaks = quantile(rest$zipCode))
table(rest$zipGroups)
library(mtcars)
data(mtcars)
str(mtcars)
head(mtcars)
str(mtcars)
mtcars$carname <- rownames(mtcars)
str(mtcars)
?melt
library(reshape)
install.packages('reshape')
library(reshape)
?melt
carmelt <- melt(mtcars, id = c('carname', 'gear', 'cyl'), measure.vars = c('mpg', 'hp'))
head(carmelt)
str(carmelt)
?dcast
?dcast
?cast
install.packages('reshape2')
library(reshape2)
?dcast
?melt
?dcast
cyldata <- dcast(carmelt, cyl ~ variable)
str(cyldata)
cyldata <- dcast(carmelt, cyl ~ variable, mean)
cyldata
data(InsectSprays)
head(InsectSprays)
tapply(InsectSprays$count, InsectSprays$spray, sum)
tapply(InsectSprays$spray, InsectSprays$count, sum)
?tapply
table(InsectSprays)
colSums(table(InsectSprays))
InSp <- split(InsectSprays$count, InsectSprays$spray)
str(InSp)
sum(InSp)
SpCo <- lapply(InSp, sum)
SpCo
?lapply
unlist(SpCo)
str(InsectSprays)
?pply
?ddply
library(plyr)
?ply
?ddply
dfx <- data.frame(
group = c(rep('A', 8), rep('B', 15), rep('C', 6)),
sex = sample(c("M", "F"), size = 29, replace = TRUE),
age = runif(n = 29, min = 18, max = 54)
)
str(dfx)
View(dfx)
ddply(dfx, .(group, sex), summarize, mean = round(mean(age), 2), sd = round(sd(age), 2))
ddply(dfx, ('group', 'sex'), summarize, mean = round(mean(age), 2), sd = round(sd(age), 2))
ddply(dfx, c('group', 'sex'), summarize, mean = round(mean(age), 2), sd = round(sd(age), 2))
ddply(dfx, .(group, sex), summarize, mean = round(mean(age), 2), sd = round(sd(age), 2))
data(baseball)
str(baseball)
ddply(baseball[1:100,], ~year, nrow)
ddply(baseball[1:100,], year, nrow)
ddply(baseball[1:100,], .(year), nrow)
ddply(baseball, .(lg), c('nrow, ncol'))
ddply(baseball, .(lg), c('nrow', 'ncol'))
ddply(InsectSprays, .(spray), sum = sum(count))
ddply(InsectSprays, .(spray), summarize, sum = sum(count))
fileUrl1 <- 'https://dl.dropboxusercontent.com/u/7710864/data/reviews-apr29.csv'
fileUrl2 <- 'https://dl.dropboxusercontent.com/u/7710864/data/solutions-apr29.csv'
download.file(fileUrl1, destfile = 'reviews.csv', method = 'curl')
download.file(fileUrl1, destfile = 'solutions.csv', method = 'curl')
reviews <- read.csv('reviews.csv')
solns <- read.csv('solutions.csv')
head(reviews)
head(solns)
?merge
names(reviews)
names(solns)
merged <- merge(reviews, solns, by.x = 'solution_id', by.y = 'id', all = T)
str(merged)
head(merged)
library(reshape)
library(reshape2)
library(plyr)
merged <- merge(reviews, solns, by.x = 'solution_id', by.y = 'id', all = T)
head(reviews)
head(solns)
reviews <- read.csv('reviews.csv')
solns <- read.csv('solutions.csv')
head(reviews)
head(solns)
download.file(fileUrl2, destfile = 'solutions.csv', method = 'curl')
solns <- read.csv('solutions.csv')
fileUrl2 <- 'https://dl.dropboxusercontent.com/u/7710864/data/solutions-apr29.csv'
download.file(fileUrl1, destfile = 'reviews.csv', method = 'curl')
download.file(fileUrl2, destfile = 'solutions.csv', method = 'curl')
reviews <- read.csv('reviews.csv')
solns <- read.csv('solutions.csv')
head(reviews)
head(solns)
merged <- merge(reviews, solns, by.x = 'solution_id', by.y = 'id', all = T)
str(merged)
head(merged)
